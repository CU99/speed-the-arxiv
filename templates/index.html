{% extends "layout.html" %}

{% block content %}
<div class="topmargin">
    {% for paper in papers %}
    <div class="paper">
        <h3><a href="{{ paper.pdf_url }}" target="_blank">{{ paper.title }}</a></h3>
        <p class="authors">{{ paper.authors }}</p>
        <p class="authors">{{ paper.date }} - {{ paper.category }}</p>
        {% if run_scirate %}
            <button type="button" class="collapsible">Abstract | Scirate: {{ paper.scirate }}</button>
        {% else %}
            <button type="button" class="collapsible">Abstract</button>
        {% endif %}
        <div class="content">
            <p class="summary">{{ paper.summary }}</p>
        </div>
    </div>
    <hr style="background-color:gray; margin-bottom: 30px;">
    {% endfor %}
</div>
{% endblock %}

<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;
    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
            content.style.display = "none";
            } else {
            content.style.display = "block";
            }
        });
    }
</script>